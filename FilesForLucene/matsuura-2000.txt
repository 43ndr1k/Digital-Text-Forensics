Extraction of Authors' Characteristics 
from Japanese Modern Sentences 
via N-gram Distribution 
Tsukasa MATSUURA1 and Yasumasa KANADA2 
Department of Information Science, Faculty of Science, 
Graduate School of the University of Tokyo, 7-3-1, Hongo, Bunkyo, Tokyo, Japan 
(tsu0pi.cc.u-tokyo.ac.jp) 
Information Technology Center, the University of Tokyo, 
2-11-16, Yayoi, Bunkyo, Tokyo, Japan 
1 Introduction 
Objects of many studies of authorship attribution have been text data in which 
boundaries between words are obvious [I] [2]. When we apply these studies to 
languages in which sentences could not be divided obviously into words, such as 
Japanese or Chinese, preliminary processing of text data such as morphological 
analysis is required and may influence the final results. The methods which make 
use of characteristics of particular languages or particular compositions also 
have limited coverage [3]. Extracting authors' characteristics from sentences is 
generally an unsolved problem. Therefore, we propose a method for authorship 
attribution based on distribution of n-grams of characters in sentences. The 
proposed method can analyze sentences without any additional information, 
i.e. preliminary analyses. The experiments, where 3-grams to represent author's 
characteristics were educed on the basis of their distributions, are also reported 
in the following. 
2 Authors' Characteristics in N-gram Distribution 
Firstly, we introduce a measure of dissimilarity between two sets of text data. 
Let us assume that a small value of this measure suggests the high probability 
that a single author wrote the texts which are compared. A string x of n charac- 
ters, i.e. an n-gram, is expressed as x=zlz2 . . . z,, where zi is in an alphabet of 
the target language for i = 1 , .  . . , n. The function P(x) represents a probability 
distribution function of n-grams x in text P .  We take notice of probability of 
appearance, not conditional probability at which z, appears after z l  . . . z,-l. 
Where text P and Q are given, we define set C by C E {xlP(x)Q(x) # 0) . C is 
a set of n-grams which appear in both of text P and Q, i.e. common n-grams. We 
measure resemblance between text P and text Q with function dissim defined 
by dissim(P, Q) E 2Exec [log P(x)/Q(x)I. Here, "card(C)" means the card(c) 
S. Arikawa and S. Morishita (Eds.): DS 2000, LNAI 1967, pp. 315-318, 2000. 
@ Springer-Verlag Berlin Heidelberg 2000 
316 Tsukasa Matsuura and Yasumasa Kanada 
number of elements belonging to the set C. Dissim is symmetrical concerning P 
and Q. If only P(x) is the same as Q(x), the value of dissim becomes 0. Though 
there are many studies on functions to measure a resemblance between proba- 
bility distribution, we take divergence (Kullback-Leibler information) as a com- 
parable measure, which is defined as D(PI IQ) zXE P(x) log(P(x)/Q(x)) . 
3 Experiments on Authorship Attribution 
The objects of analyses are 92 works in total, i.e. 72 novels, 9 essays, 5 letters, 
3 scenarios, 2 diaries, and 1 speech, written from the Me@ period1 to the 
early Shouwa period2 . The following list represents the authors' names and the 
numbers of their works analyzed. 
Doppo KUNIKIDA: 11, Hiroshi(Kan) KIKUCHI: 15, Ichiyou HIGUCHI: 7, 
Kidou OKAMOTO: 9, Motojirou KAJII: 20, Ryunosuke AKUTAGAWA: 10, 
Senko MIZUNO: 7, Takeo ARISHIMA: 13 
The total number of characters included in the 92 works is 3,001,650. All the 
works are downloaded from the Aozora Bunko3 . The 67 works of them follow 
the modern prescription of notation, i.e. modern kana4 . The others are written 
in the old prescription, i.e. historical kana. 
A blank and a line feed are counted as a character. Redundancies, i.e. lines 
which don't include any characters, blanks after line feeds, are ignored. Charac- 
ters which can be encoded in the JIS X 0208 are all counted. Each of the other 
characters is replaced with a single tag, which is counted as a character. 
Credibility of dissim declines when volumes of texts to be compared differ 
greatly. Works are randomly combined until volumes of connected texts become 
30,000 characters. The works longer than 30,000 characters were analyzed with- 
out combination. After consideration on the result of pre-experiments reported in 
[4], the volume of 30,000 characters was chosen. In order to observe the relation 
between volumes of texts and accuracy of authorship attribution, accuracy was 
also counted when texts from of 10,000 to of 30,000 characters were compared. 
Because accuracy might depend on way of combination of works, 50 ways of the 
random combination were tried and 50 text-sets to  analyze were generated. To 
discuss what n of n-gram distribution is effective, the results of analyses from 
via 1-gram distribution to via 10-gram distribution are to be reported. 
Here is a measure of accuracy of authorship attribution via percentage of 
success cases to all the comparisons in a text set. The number of comparisons is 
equal to the number of ways to choose a text as an origin in a comparison, i.e. 
the number of texts to be compared. A success case is defined as a case where all 
The Mezjz period is from 1868 to 1912. 
The Shouwa period is from 1926 to 1989 
h t t p : / / ~ ~ ~ . a ~ ~ ~ r a . g r . j p / m a i n ~ h t m l  
A virtual library on the WWW which provides mainly literatures whose copyrights 
have terminated. 
Japanese phonogram 
Extraction of Authors' Characteristics from Japanese Modern Sentences 317 
the values of dissimilarity between the origin text and the same author's texts 
are smaller than the minimum dissimilarity between the origin text and different 
authors' texts. In a success case, when the dissimilarity of a text T is smaller 
than that of a text of the origin author, i.e. the author of the origin text, we 
can tell that text T is by the origin author. When a text-set has pairs of texts 
where any common n-grams are not found, authorship attributions which deal 
with the text-set are considered as fail cases. 
In Figure 1, we can see the arithmetic means of accuracy via dissim and 
via divergence through the test on all the 50 text-sets. On dissim, 3-gram Dis- 
tribution shows the highest scores and the maximum value was 96.0%, which 
was achieved with 30,000 character-long texts. Though no techniques equiva- 
lent to smoothing or flooring are adopted, accuracy of divergence is quite low. 
Dissim from with 2-gram distribution to with 4-gram distribution always shows 
better results than divergence with any n-gram distribution. Average accuracy 
via dissim tends to  increase according to the increase of volumes of texts to 
be compared. Therefore, the credibility of dissim is supposed to improve when 
longer texts are analyzed. 
inn 
average accuracy via dissim , ,, average accuracy via divergence 
, vv 
90 90 
80 80 
70 70 
5 60 2 60 t 1 -gram 
-.-~z-pram g 50 50 t 8-pram 
i 40 i 40 --K- 4-grm 
30 30 
t 5-pram 
- - .- - 6-pmm 
20 20 t 7-pram 
10 10 - - -4- - 8 -g rm  - 9-mam 
0 0 
10000 12500 15000 1 6 0 0  ZOO00 22500 25000 ? Z O O  10000 10000 12500 15000 1EOO 20000 22500 25000 2EOO 30000 
+I 0-gram 
length of texts to be compared (characters) length of texts to  be compared (characters) 1 
Fig. 1. Average accuracy of authorship attribution via dissim and via divergence 
(The arithmetic means of the accuracy on 50 text-set are represented.) 
4 Extraction of Authors Characteristic N-grams 
In this section, we try to extract 3-grams which represent characteristics of 
Ryunosuke AKUTAGAWA and Hiroshi KIKUCHI from a set of combined texts 
of 12,500-character-long. The text-set is one of the shortest sets where perfect 
authorship attributions were attained via 3-gram distribution in the experiments 
in section 3. Because the works analyzed in this section are published in 11 years 
from 1917 to 1927, the general change of literary style did not have a great effect 
on differences between these two authors' styles. 
The effect on dissim by n-gram x is defined by share(x) llog P(x)/Q(x)I. 
N-grams whose distribution is distinctive of an author are supposed to represent 
318 Tsukasa Matsuura and Yasumasa Kanada 
the author's characteristics. When we sorted 3-grams in order of share(x), the 
value of share(x) changed drastically around the mode5 . Though the percentage 
of n-grams which show share(x) less than or equal to the mode was 38.7% in 
average (standard variance was 2.63 points), the sum of their share(x) was 
only 0.23% to value of dissim in average (standard variance was 0.14 points). 
Therefore, we define characteristic n-grams in a comparison between texts as 
n-grams x such that share(x) is greater than the mode. 
The sets of characteristic n-grams in comparisons among texts of a single 
author represent the differences in contents, not in styles. They are named con- 
tent constrained n-grams and should be eliminated from authors' characteristic 
n-grams, which represent authors' characteristics. If the author who uses the n- 
grams more frequently alters case by case, the n-grams should also be eliminated 
because they are difficult to represent author's characteristics. N-grams which 
appear as characteristic n-grams in only one comparison are illfounded, so that 
they should be also eliminated. 
Set A is defined by the union of the sets of characteristic n-grams in com- 
parisons between the two authors. Set B is the union of the sets of content 
constrained n-grams. When A n B is considered as authors' characteristic 3- 
grams, the 196 kinds of Authors' characteristic 3-grams were educed. The top 
20 kinds of 3-grams of the greatest share(x) are shown in Figure 1. The top 20 
kinds of 3-grams whose probabilities of appearance are the greatest in sentences 
of each author are also listed in Figure 1. If differences between the modern 
prescription of notation and old one are taken into consideration, the 12 kinds 
of 3-gram of the greatest probabilities are common to the two authors. Further- 
more, they consist of parts of functional words which are supposed to appear 
frequently in general sentences. 3-grams of greater probabilities cannot be clues 
to distinguish each author's characteristics. On the other hand, Authors7 char- 
acteristic 3-grams include parts of meaningful words and don't contain n-grams 
common to the 40 kinds of 3-grams of the greatest probabilities. These Authors7 
characteristic 3-grams will contribute not only to the improvement of authorship 
attribution methods but also to the studies of literature or stylistics. 
5 Conclusion and Future Work 
Dissim achieved average accuracy of 96.0% at highest via 3-gram distribution. 
Dissim could extract authors' characteristics common to works in various gen- 
res. Divergence was not effective in these experiments. We suppose that dissim 
achieved high accuracy because (1) dissim is normalized on the number of com- 
mon n-grams, (2) absolute values of ratios of P(x) to Q(x) are added in dissim. 
Our study on extraction of authors' fingerprints is in the stage of examin- 
ing validity of the proposed method. Texts of more authors, of more languages 
and of more kinds should be taken into experiments. More random combina- 
tions to connect compositions should also be experimented. Thereafter, we will 
a value which appears most frequently in distribution 
Extraction of Authors' Characteristics from Japanese Modern Sentences 319 
Table 1. Author's characteristic 3-grams and 3-grams of the greatest appearance prob- 
abilities ("@nn means a carriage return.) 
Authors' Characteristic 3-grams 13-grams of greater appearance probabilities 
3-gram 1 average of 1 author who use 1 lin AKUTAGAWA's 1 in KIKUCHI's 
rank 
KIKUCHI 
KIKUCHI 
KIKUCHI 
KIKUCHI 
KIKUCHI 
AKUTAGAWA 
AKUTAGAWA 
AKUTAGAWA 
AKUTAGAWA 
KIKUCHI 
AKUTAGAWA 
KIKUCHI 
AKUTAGAWA 
AKUTAGAWA 
AKUTAGAWA 
AKUTAGAWA 
AKUTAGAWA 
AKUTAGAWA 
AKUTAGAWA 
2 
3 
4 
5 
6 
7 
8 
9 
10 
11 
12 
13 
14 
15 
16 
17 
18 
19 
20 
be able to give answers to the question that why dissim represented the differ- 
ence between authors' styles better than divergence. These conclusions will be 
meaningful clues when we consider what are desirable characteristics for simi- 
larity measures among probability distribution in the area of natural language 
processing. The final aim of our study is automatic discovery of methods for 
grasping characteristics from general or particular sentences. 
11&td:f@ 1 6.823-041 AKUTAGAWA 3 1 4.153-031 7 re0 1 9,013-03 
- 
3kM 
RA% 
A%% 
07lYs 
bZ%& 
Z 2 b Z  
$LtZ td: 
L3T 
1.10 f@ 
\ 97 
BL? 
P?ik 
%%bZ 
f iJ  ? 
A 2 . t  
f l y ,  $3 
6, - 
f S h f i J  
0 7 3 1 . 1  
References 
1. Mendelhall, T.C.: A mechanical solution of a literary problem. Popular Science 
Monthly 60(2) (1901) 97-105 
2. Yule, G.U.: On sentence-length as a statistical characteristic of style in prose: with 
application to two cases of disputed authorship. Biometrika 30 (1939) 363-390 
3. Jin, M.: Determining the writer of diary based on distribution of particles (in 
Japanese). Mathematical Linguistics 20(8) (1997) 357-367 
4. Matsuura, T., Kanada, Y.: Identifying authors of sentences in Japanese modern 
novels via distribution of n-grams (in Japanese). IPSJ Transactions on Natural 
Language Processing 99(95(NL134)) (1999) 31-38 
- 
share 3-gram more frequently 3-gram I probability13-gram I probability 
