Chapter 46
Discrimination of Handwritten
and Machine Printed Text in Scanned
Document Images
Surabhi Narayan and Sahana D. Gowda
Abstract Discrimination of handwritten and machine printed text in a scanned
document image is an important process as the Optical Character Recognizers
(OCRs) available are domain specific. In this paper, a novel approach has been
proposed to discriminate handwritten and machine printed word components based
on the structure. In the binarized form of the word component, due to the infor-
mative foreground overlay on the null background, transitions from 0-1 and 1-0
occur at the contour of the component structure. The count and occurrence of these
transitions are used to discriminate handwritten and machine printed word com-
ponents. The proposed method is robust and simple. Extensive experimentation
has been conducted over a wide range of data samples (English words).
Keywords Document image  Machine printed word  Handwritten word 
Transition  Component structure  Critical lines
46.1 Introduction
Despite the fact that offices are moving into paperless, document existence is still
necessary in many places such as reservation forms, bank cheques, application
forms, tax returns, and legal documents. These document images contain hand-
written and machine printed word components. Information extraction from these
document images is cumbersome due to the presence of handwritten and machine
printed components together. Discrimination of handwritten and machine printed
S. Narayan (&)  S. D. Gowda
Department of CSE, BNM Institute of Technology, Bangalore, India
e-mail: surabhi.narayan@gmail.com
S. D. Gowda
e-mail: sahanagowda@rediffmail.com
V. Chakravarthi et al. (eds.), Proceedings of International Conference on VLSI,
Communication, Advanced Devices, Signals & Systems and Networking (VCASAN-2013),
Lecture Notes in Electrical Engineering 258, DOI: 10.1007/978-81-322-1524-0_46,
 Springer India 2013
385
text components is one of the major processing steps to facilitate the later OCR
task. Based on the structure, the characters are classified as ascenders, descenders,
and base-line characters in a word component [1–3].
In a machine printed word component, the characters occupy uniform space and
the ascender and descender lines of the characters have the same height, whereas
this is not true in case of handwritten components. In the proposed model, structure
of the components is analyzed using transitions. Due to the overlay of informative
foreground on the null background in the binarized document image, 1-0 and 0-1
transitions occur [4]. The transitions in the row and column are termed as row
transition and column transition, respectively. Based on ascender, descender, and
base-line structure of the character and the occurrence of transitions in the word
components, critical lines can be drawn. Critical lines are top-line, x-line, base-
line, and bottom-line as shown in Fig. 46.1.
For a machine printed word component, due to the uniform height and structure
of the character, the top-line, x-line, base-line, and bottom-line can be clearly
defined. Due to non-uniformity of the structure and height of characters in the
handwritten components, top-line, x-line, base-line, and bottom-line do not fit the
word structure. The detailed procedure is given in Sect. 46.3 with the rule-based
engine to identify the handwritten and machine printed text.
The rest of the paper is organized as follows: Sect. 46.2 signifies the state of art,
Sect. 46.3 focuses on the proposed model, Sect. 46.4 depicts the experimental
results, and Sect. 46.5 gives the conclusion.
46.2 Literature Survey
Document images are processed for information extraction. The document images
can be processed at line, word, or character level depending on the requirement.
Discrimination of handwritten and machine printed components is also done at any
of the above three levels [5]. Discrimination of handwritten and machine printed
text is an offline processing problem, which needs many preprocessing stages.
Assuming that the document image has undergone preprocessing stages, works
have been reported only for the discrimination of handwritten and machine printed
text components by many researchers.
Kavallieratou and Stamatatos [6] analyzed the horizontal profile of the text and
found that the machine printed text lines have relatively stable height as compared
to the handwritten text lines. Fan et al. [7] considered word block layout and
applied Fisher classifier for discrimination. Guo J.K and Ma [8] used a hidden
Fig. 46.1 Printed word
showing the four critical lines
386 S. Narayan and S. D. Gowda
Markov Model to classify the machine printed text and handwritten text. Tse et al.
[5] classified the typewritten and handwritten portions using island grouping
method. Angel Sanchez et al. [9] used classification rules mining by the WEKA
tool. Farroq et al. [10] used Expectation Maximization-based probabilistic neural
network for identifying the handwritten words in an Arabic document. Shird-
honkar et al. [11] used SVM to isolate signatures from the machine printed text.
The existing methods consider complex and large number of features and
classifiers to discriminate the machine printed and handwritten components with
fixed thresholds on the height and width of the components. In the proposed
model, we seek to overcome the limitations of the existing methods by considering
transitions and position of transitions as the discriminating features for handwritten
and printed components which is invariant to size and width of the components.
46.3 Proposed Method
Every character component has a unique structure. The combination of characters
and their position gives a new structure to the word. The word components
extracted from the document image are binarized since the foreground information
is always in contrast with the null background. Representation in the binary form
makes the image matrix simple. The length and width of the component are the
number of rows and columns in the image matrix. Due to the presence of 0’s and
1’s in the image matrix, transitions occur. There are two types of transitions:
positive transitions and negative transitions. Positive transitions (t+) are transitions
from informative foreground (0) to null background (1) and negative transitions
(t-) are transitions from null background (1) to informative foreground (0). Based
on the structure of the word component, transitions occur at the contour of the
characters as depicted in Fig. 46.2b for the component in Fig. 46.2a.
Critical lines are defined based on the occurrence of transitions.
top-line: The line that marks the beginning of an ascender character.
x-line: The line that marks the beginning of the base-line and the descender
characters.
Fig. 46.2 a Printed word component. b Image matrix with transitions
46 Discrimination of Handwritten and Machine Printed Text 387
base-line: The line that marks the end of base-line and the ascender character.
bottom-line: The line that marks the end of descender character.
Based on the occurrence of critical lines, word components are categorized into
four types:
Type 2: The word component with top-line, x-line, base-line, and bottom-line.
Type 3: The word component with top-line, x-line, and base-line.
Type 4: The word component with x-line, base-line, and bottom-line.
Type 5: The word component with x-line and base-line.
46.3.1 Computation
For an image matrix of size m 9 n, where m is the number of rows and n is the
number of columns,
Compute
rþj ¼
Xn
i¼1
ctþ for all j ¼ 1 to m
rj ¼
Xn
i¼1
ct for all j ¼ 1 to m
where
ct+ is the positive column transition
ct- is the negative column transition
rj
+ is the number of positive column transitions in the jth row of the image matrix
rj
- is the number of negative column transitions in the jth row of the image matrix
Based on the number of column transitions in the corresponding rows, critical
lines are marked.
top-line: Row with the first ct- termed as rt,
bottom-line: Row with the last ct+ termed as rbt,
x-line: Row with max(ct-) termed as rx and
base-line: Row with max(ct+) termed as rb.
The critical lines are invariant to the size of the word component.
388 S. Narayan and S. D. Gowda
46.3.2 Rule Engine
Rule engine is developed for the discrimination of machine printed and hand-
written word components. It is based on the following:
• Position of critical lines.
• Distance between the critical lines.
• Distance between the middle row of the component and the critical lines.
Rules are tabulated in Table 46.1.
rt: Row number of the top-line.
rx: Row number of the x-line.
rb: Row number of the base-line.
rbt: Row number of the bottom-line.
Every input word component is subjected to discrimination using the rules
defined in Table 46.1. If the input component is machine printed, then it satisfies
one of the rules and is labeled as machine printed component. If the input com-
ponent is handwritten, it does not satisfy any of the rules and is labeled as
handwritten component. The detailed experimental results are discussed in the
next section.
46.4 Experimental Analysis
Extensive experimentation has been conducted on different types of word com-
ponents. Word images were generated by different manuscripts. The analysis is
Table 46.1 Rule-based engine for discrimination
Rule
1
1. If rt = rx and rb = rbt
Calculate mid = (rbt - rt)/2
If all three conditions are satisfied identify the word as
printed word component of type 1
2. If rt\mid and rx\mid and rb
[ mid and rbt [ mid
3. If (rx - rt) == (rbt - rb)
Rule
2
1. If rt == rx and rb = rbt
Calculate mid = (rbt - rt)/2
If both conditions are satisfied, identify the word as
printed word component of type 2
2. If rt\mid and rb[mid and rbt
[ mid
Rule
3
1. If rt = rx and rb == rbt calculate
mid = (rbt - rt)/2
If all four conditions are satisfied, identify the word as
printed word component of type 3
2. If rt\mid and rx\mid and rbt
[ mid
Rule
4
1. If rt == rx and rb = = rbt If the condition is satisfied, identify the word as
printed word component of type 4
46 Discrimination of Handwritten and Machine Printed Text 389
shown on the word which is machine printed and handwritten by different people
(Figs. 46.3, 46.4).
The results evidently show that the structure of the machine printed components
at character level within a word exhibit uniform space occupancy, whereas in
handwritten components, the uniformity does not exist due to the individual style
of writing. In handwritten word component, the top-line, x-line, base-line, and
bottom-line do not indicate uniformity in width and height. The proposed model
was tested on 200 machine printed and 200 handwritten words. Some miss-
identification was recorded in case of printed word components. Word components
which contain only character ‘t’ as the ascender are miss-identified as handwritten
since height of the ascender for any font size is smaller than any other ascender or
descender characters. It does not satisfy the rules.
46.5 Conclusion
Discrimination of machine printed and handwritten text is a prerequisite for
document processing. In this paper, a new method is proposed which considers the
structure, occupancy, and uniformity of characters in the word component. Critical
lines are drawn on the word component based on the count and occurrence of the
transitions. The rule engine is developed for discrimination of handwritten and
machine printed word components. The proposed method is simple and less time
consuming.
Acknowledgments This work has been supported by Visveswaraya Technological University
(VTU) under the Research Grant Scheme 2010-11 (Ref. No VTU/Aca./2011-12/A-9/13097). The
authors acknowledge the support provided by VTU.
Fig. 46.3 Printed word
components
Fig. 46.4 Handwritten word
components
390 S. Narayan and S. D. Gowda
References
1. Doermann D, Li H, Kia O, Kilic K (1997) Detection of duplicates in document image
databases. Technical report, February 1997
2. Hull JJ (1994) Document image matching and retrieval with multiple distortion-invariant
descriptors. In: Proceedings of the international workshop on document analysis systems,
pp 383–400
3. Spitz AL (1995) Using character shape codes for word spotting in document images. In:
Proceedings of shape, structure and pattern recognition, World Scientific, Singapore,
pp 382–389
4. Gowda SD, Nagabhushan P (2007) Equivalence between two document images in terms of
geometry and entropy. In: Proceedings of advanced computer vision and information
technology, Aurangabad, INDIA, pp 210–216
5. Tse J, Curtis D, Bunch J, Jones C, Yfantis EA, Thomas A (2007) Handwritten and
typewritten word and character separation in unconstrained document images. Proceedings of
IPCV
6. Kavallieratou E, Stamatatos S (2004) Discrimination of machine-printed from handwritten
text using simple structural characteristics. In: Proceedings of 17th international conference
on pattern recognition, vol I, 2004
7. Fan KC, Wang LS, Tu YT (1998) Classification of machine—printed and handwritten texts
using character block layout variance. Pattern Recognit 31(9):1275–1284
8. Guo JK, Ma MY (2001) Separating handwritten material from machine printed text using
hidden Markov models. In: Proceedings of 6th international conference in document analysis
and recognition
9. da Silva LF, Conci A, Sanchez A (2009) Automatic discrimination between printed and
handwritten text in documents. In: Proceedings of computer graphics and image processing,
2009
10. Farooq F, Sridharan K, Govindaraju V (2006) Identifying handwritten text in mixed
documents. In: Proceedings of IEEE 18th international conference on pattern recognition
(ICPR)
11. Shirdhonkar MS, Kokare MB (2010) Discrimination between printed and handwritten text in
documents. In: Proceedings of IJCA special issue on ‘‘recent trends in image processing and
pattern recognition
46 Discrimination of Handwritten and Machine Printed Text 391
