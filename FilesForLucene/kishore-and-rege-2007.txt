2007 IEEE International Symposium
on Signal Processing and Information Technology
Adaptive Enhancement of Historical Document Images
N. Krishna Kishore Priti P. Rege
kishoren2(~gmaiiLcom ppr~extc.coep.orgJn
Department of Electronics and Telecommunications
College of Engineering, Pune, India
Abstract: In this paper we present a simple and 2. Literature review on document image
computationally efficient method for document binarization techniques
image enhancement. We use Unsharp masking to
enhance the edge detail information in the degraded Previous image enhancement algorithms for historical
document. This image is then used to adjust the local documents have been designed primarily for
threshold for each pixel. Proposed method is segmentation of textual content from the background
experimentally compared with Laplacian sign method of the images. Binarization of gray scale image has
and the Otsu method. It is shown that the method been the most important subject of intense research
improves sharpness of the image with nearly half interest during last few years. Most of the commonly
computational time. observed techniques focus on one aspect of choosing
threshold either globally or locally. The global
1. Introduction threshold selection methods assume the gray-level
histogram to be bimodal and then choose a single
There is an increasing need to digitally preserve and threshold at valley point to label pixels into
provide access to historical document collections foreground or background classes.
residing (and possibly decaying) in libraries, museums
and archives. These documents are like ancient Otsu's method is an early, but still popular histogram
manuscripts through early printed books to type based technique. Because of its inefficient formulation
written administrative documents of the twentieth of the between-class variance, the method is slow and
century. They contain important information and also the performance varies with image types. In
interesting information that was written and recorded algorithm proposed by Kapur et.al. [1], the optimal
in handwritten letters and notes during the past few threshold value was calculated by maximizing the
hundred years, before the invention of typewrites and sum of the foreground and background entropies. The
even printing. To allow the preservation of these technique uses the maximum of the sum of the
delicate documents, while also providing wider access entropy of the grey level distribution of the
to scholars and researchers, the documents are foreground and background. Experiments show that
frequently scanned and made available as high- such a technique is simple and often effective too but
resolution images. These images are enhanced by breaks down when illumination, background or noise
various methods to improve their readability for characteristics are non uniform. Solihin & Leedham
various purposes such as visual inspections by OCR. [2] elaborated two global techniques, Native Integral
To facilitate future automatic searching and analysis Ratio (NIR) and Quadratic Integral Ratio (QIR).
of the words and content in the documents, it is These methods are based on shape of the histogram.
necessary to separate the useful pixels containing QIR uses intensity histogram to find a threshold value
document content, such as handwriting, drawings, for entire image.
pictures and other information representing useful
artifacts, from the background pixels of the paper. The global threshold methods are ineffective for
images that do not have a bimodal histogram. Also,
The general problems encountered in historical single threshold is not adequate for poor quality
document images are frequent degradations due to documents (e.g. images with noise, high illumination
poor storage and different storage skills, environment or low contrast), and complex document structures
and different quality of paper and ink. These (e.g. document has a variety of intensity of characters
documents suffer from various types of degradations and background). As a remedy to these problems,
including scanning noise, smear, aging effects, uneven local or adaptive thresholding schemes have been
background or foreground and uneven illumination. proposed. In local thresholding, threshold values are
978-1 -4244-1 835-0/07/$25.00 ©C2007 IEEE 983
determined locally, e.g. pixel by pixel, or region by conclusions drawn from this study are summarized in
region. section 5.
Threshold is computed for every element (i.e. pixel or 3. Laplacian Sign Method
region) based on local statistics. The approach
proposed by Niblack [3] attempts to vary the In Laplacian Sign technique [6], a threshold value is
threshold over the image based on the local mean and calculated for each and every pixel. It is calculated by
standard deviation computed in a small neighborhood using Laplacian sign of image. The algorithm contains
of each pixel. Zhang and Tan [4] proposed another mainly the following steps:
improved version ofNiblack's method. In comparison
with the Niblack's algorithm, it performs well at The Laplacian ofthe Image is approximated using the
shadow boundary detection. Yanowitz and differential of Gaussian (DOG) algorithm. This is
Bruckestein [5] proposed a local gradient based simply obtained by filtering the image with two
thresholding algorithm. In this algorithm, the Gaussian filters where the ratio of the standard
thresholding was determined by interpolating the deviation for these filters G2/G1 is selected to be
image grey-level at the points where the gradient is greater than 1.6
high, indicating probable object edges. The gradient
map of the image was used to point at well-defined The detailed steps are
portions of object boundaries. Sittisak Rodtook et al.
[6] have proposed a Laplacian sign based thresholding * Gaussian filter the document image by using a
algorithm. The threshold value is updated whenever binomial filter (n times convolution with the
the Laplacian sign of input image changes. The sign kernel) . Let the output be g1(x,y)
of image is calculated by using Differential of * Apply the same binomial kernel to g1(x,y) three
Gaussian. Ergina et al [7] proposed a hybrid times to adjust bandwidth in accordance with the
binarization technique named Iterative Global principle ofDoG. This image is called g2(x,y).
Thresholding (IGT) wherein they combined the * Difference of g1(x,y ) and g2(x,y) is used to
advantages of local and global thresholding for better define the Laplacian Sign image.
adaptability of various kinds of noise at different areas * Update the threshold at each transition, whenever
in the same image. the modification of the sign in the line is
Nicola Pavesic et al [8] introduced entropic image occurred.
thresholding taking a function of generalizes entropies * Perform binarization of filtered image. The
instead of the Shanon's entropy proposed by Kapur et decision is made on the input image against to
al [1] as the criteria for thresholding. threshold at each and every pixel.
The adaptive thresholding method, based on Though the method shows good performance on
Laplacian Sign, suggested by Sititsak. Rodtook, various documents, extensive computational efforts
Yuttapong Rangsanseri [6] performs well on different are involved due the binomial filtering wherein the
types of document images, particularly on images that image is convolved with the kerel multiple times.
have variety of intensities of characters and Our method is based on the linear version of un-sharpbackground or have low contrast. However, the masking method
scheme is too expensive in terms of time complexity
specially due to the binomial filtering that is Proposed Aproach for Document Image
implemented as image convolutions with the kernel E phppet
multiple times. Enhancement
In this paper, we present a technique that performs the We use unsharp masking to enhance the edge
enhancement and binarization of a digitized gray scale detail information in image in place of Binomial
document. We replace the Laplacian sign generator filtering. A high pass filtered, scaled version of image
block [6] by a simple "Unsharp filter". The advantage is added to the image itself. This is used to adjust the
of this method is that it improves the sharpness of the threshold value [5].
image, at the same time, reduces the time complexity The aim of sharpening process is to highlight the
of the algorithm (as multiple filtering operations are fine details of the characters that have been blu red,
getting eliminated). perhaps due to noise or other effects. Figure 1
The rest of the paper is organized as follows: Section displays the block diagram of proposed algorithm.
3 includes our approach in detail. Extermination
results are presented in section 4 while the main
984
* Convolve the original image I(x,y) with the mask
Gray scale image given in Figure 2. Let the resulting image be Ihb(x,y)
I(x, y) * Calculate the difference between I(x,y) and Ihb(x,y)
Generate a new difference image I'(x,y) that consists
of'+' and '-' signs. as follows
If the difference is positive (i.e I(x,y) > Ihb(x,y))
write the pixel as '+'
Else write the pixel as '-'
High Boost filter * Let the object and background values for starting
pixel in each row be
Background =0,
Ihb(X, Y) Object = I'(x, 0)
* Compare current pixel value with previous pixel in
Threshold every row.
calculation * If any transition from object to the background is
characterized by the occurrence of a '+' followed
by '-' then modify the background as
Thr(x,y) Background = I'(x, y)
* Other wise, if the transition from a background to
Judgment .lobject is characterized by the occurrence of a'-
I(x, y) followed by' ±', then modify the object value as
I Object= I'(x, y)
t > * Compute the threshold at (x, y) as
inarized image
Thr(x, y) = k * (Oblect + Background)
Figure 1: Block diagram of proposed method 2
where 'k' is scaling factor, that needs to be selected
The proposed scheme of document binarization based on the document and 0 < k <1.5
consists of the following steps:
(i) Apply Unsharp filtering to the document In this step, we judges whether the pixel belongs to
image. The Unsharp filter is shown in Figure 2. object or background by observing Thr(x, y) and
'C' varies from 1.0 to 2.0. The resulting image I(x, y) as follows
is Ihb(XI,Y)
(ii) Consider the Signs of the resulting image and b(x,l =
I i I(x, y) > Thr(x, y)
calculate the threshold for each transition 0 otherwise
(iii) Judge whether the pixel belongs to the
background or the object. The pixels defined by 1 are object and 0 are
background.
1 | -1 | -1 | 5. Experimental Results
-1 8*C -1
The proposed approach for thresholding gray-scale
image has been carried out on different collections of
documents. These images contain machine printed
Figure 2:Unsharp filter and hand written texts, including sparse and dense
The resultant of unsharp masked image consists textual regions, mixed fonts with different sizes and.. ~~orientations- text on different shading,. In this nanerenhanced details of edges. The signs of this image are orettosteto'ifrn haig nti aewe have given some examples. These are comparedused to calculate the threshold value,.ihLpainsg ehd h ouet r
The proosedalorithmis as fllows:scanned and converted into 256 grey-level image at
500 dpi.
985
....q...
WU4 ~ kd~c
LVF ~i L<
b C~~~~~~~~~4f
AAL re) C/
Figure 3: Experimental Results: (a) Original image (b) Our proposed approach, (c) - (d) Laplacian Sig
*.-!tA:p'~ el~ ,p 1S IL|
;11- d- IHi.j, JX4iliXid Toi
. _ ... 66 1 S t ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~fillurt 1.fi 61 ihi -6i6~6hr
~~~~~~~~~~~~~~~~~~~~~~~~~~~I kil ;L~ 1 _ A II= W _ 5am w W w Wt 1 . W il| X ES. |.~~~~~~E- inaj ;ti Dk $ro r"r WIf
"QI 4tyiie, UALkI1 Iam? Mio Itlt[
.~~~~~ mjhi *f cza|~ ; i .1 . I II IL. ' I|§i .11111
i-i ,. .. ... "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~......0! h 1 - > * . ; Y~~~~~~~~~~~~~~iEi F( P.ll I.; 1 IL ,LF 111.,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-.....i~ ~ ~ ~~ ~ ~ ~ ~~~~~~~~~~~~. ....j.. em,.hat w ~ ~ ~ ~~~ ~~ ~~ ~~ ~~ ~~ ~~~~~~~. '... .,. ... ...
l i i Y iT Y Y u i ffi9~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~laehotl fo~ oNo n
...I.......'I
III aIm l dlI
1 II II 1i IlLImnYb 10411hi
Idi If iii In .d I iI l
, fin z* io kan.3LLI
obalog}wT"W11 W* beet fi FifY.X:,.r.1t ifl iiitud m lhrv appqrTj1IirI
....h0l 10 .............. .... ...... ..ffi.. lli TIlJn .-_i
- E.~~NE
WIx64 W Win 010i ear to an 6 f t6e 11mve I CW *4 LI&W IaWIwuz b eLn t 6 -tz plr3lr- CoA'nad.urd
| .Il II 1 IkII. YloI A. *-~ * Eu- L-2IsE 4E.I eaq-UiI1CX mlPilL l uIL=~~~~~~~~~~~~~~~~~~~~~~I L N wL_RI Rf.COMXffli A
bad-oi~II bilt II Iolk MI&I.JoIAItom iiid lIrIlTIllk VlIIIa
| S SI fl * M W | _a * _ Sv si r1;4* r>I~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~16 2b n3- M
i.iY1 La I I 1 T %I 11411 F P, iI *-*_*_ r
I4II6 IT-L Jll 11111111111 IiILI1I -1AIAka-Ir.I I~r
dIXYFlILl |111 1alw .111 OWlITII 1 L. gG' si hIr4 IL
I yM rlaLhI re4L Tk- -t1' m-4L6L -I6
IIM i Li idl Ahlie lr r I I1I3 3 ..'0.'. A.-h* d h . lakoh * m rW;
*Ia~ I#1i III lrTW I11.ELI...... ......111f i111Sr 111 WI0llL........... .FX G114l __I L, _I ........................
[~~~LlIll jI, TIITAT IA TI I - .~~~~~rnoo Vm3 RKCA2"ICA&dLIt
LLLrII 41111 III1e ........................ 'EL-'I4'.0T1OLli 4IlI,Ld ....... r iLure
Tfihn'ik 11101 MLIII0 rIowgY-1111iia Xl.gLI I.I ............. -.<31|14 Iti= I .. MI *I E nmp5Lr'lAiiE:IL"blc,r
11111 £141" IL III WiI LII II,0,r~ zietrJL E.Y Ian. s z fle,ee
ilLlki31411 lilL ~iillllIl F31rX̂IlIa 1Biiai 11ini 11bit .m ; I!FLUK hu$ qj *-aIILL Lfkd.la iFut Piam
11114 IAL 111<1141 ~~~~~~~~~~~~~~~~ L4III<11141 IA LI <41111 ~ ~ ~ ~ ~ ~ ~ ~ ~~~~~~mo Ihm n mIf<--ip- AnI4-rO'[A
Maiv hI lrm1<11 1111wi1 Irri l I'ilo In I Xi. Di I il .
Wiving tm11111E lng - krALl All l101 lAW II | 1 ie &ihOrmL kh-d ibC 1Ifid
llF-1i~LI1 lii Ir r.Ad tu!t.i1fIc lWalni WVi rII U163'- in Mi lo -J 'DdU1L uui AT [-A j.-E i U6rdr dLu -3lchnh4klIIII Al'. 41..14Imq.l-M,L In jp.LA >.Id)&Ia,Lm~J1] yw ]', Y I 1 Wa1'LIIkiEciEbT1l, LNc.I a.h rI kr 1
11Ik 1tA13nEiLIegiIlII,IITA l T.Rb ticLLrcr hcii -leiR'
01 LAIIIL Kf11111111 Ill Ni r 3 i tt | , , w . . I II 41 rl~IL In 11 E EhXLk ei3#, t kTtP hcg cr b, tI jhl t-nLpiW n
inOluih d 0gkWur y M" rjir P IWrtMr .3hz RE fiAl "i|me mh
111114111 1111 ~~~~~~oal 1111111<41141 L1II 11114 1411~~~~~~~~~~~~~~a.e~~'u '~~'±L ~~~i cf4vL hjrab ."wd. Aiya:'A m.ha.u.
od1p' ' winr1. 14, At mut11 hoILTh
I *MR h wki eio GFIbil" -B a i: Ti mL iF oi
LTiAr N((ILhir}-1 mLIII EtII4IIIIII Al LL 4jI11I;lAWI 1 uX1ILXfb I bJOP1Y4jT2LT 3Ed md-icy EJFKCZI!E
IhI LIal aa 12 hi;li ..3131t1 TIIi41|lr i k Ilnt * I c bi decIPII E A r i b k1kIra
(c) (d)
Figure 4: Second Example (a) Original image (b) Our proposed approach
(c) Laplacian sign for alpha 0.439 (d) Otsu's method
987
Figure 3 shows the first example. The coefficients References
C=10 and k=0.99 are used for the first image. The [1] J.N. Kapur, P.K.Sahoo, A.K.C. Wong, "A
result of our proposed techniques is shown in Figure New Method for Gray Level Picture
3(b), and can be compared with the results by Thresholding using Entropy of the
Laplacian Sign method for k=0.89 and k=0.86 Histogram" Computer Vision, Graphics and
respectively. These results are shown in Figure 3(c) Image Processing", 29, pp. 273-285, 1985.
and (d). The computational time of our proposed [2] Yan Solhin and C.G.Leedham, Integral Ratio:
method and Laplacian Sign are 763 and 1578 A New Class of Global Thresholding
milliseconds respectively. These are implemented in Techniques for Handwriting Images, IEEE
C. The performance of our method is better than Trans on Pattern Aalyssi and Machine
Laplacian Sign in terms of computational cost and Intelligence, Vol.21, PP.761-768, 1999.
visibility of characters. The second example is [3] W.Niblack, "An Introduction to Digital
shown in Figure 4. The computational costs of our Image Processing", pp. 115-116, Prentice
proposed method and Laplacian Sign are 476 and Hall, 1986.
853 respectively. Our method reduces [4] Zhang, Z, and Tan, C.L: 'Restoration of
computational time by more than 5000, and Images scanned from thick bound
performance also increases. documents', Proceedings International
Conference on Image Processing
5. Conclusion (ICIP),2001, vol. 1, pp. 1074-1077.
[5] Yanowitz, S.D., and Bruckestin, A.M.: 'A
In this paper we presented a method appropriate New Method for Image Segmentation',
for binarization of historical and ancient documents. Computer vision, Graphics and Image
This method is mainly based on sign of high boost Processing, 1989,46,(1), pp. 82-85
filtered image. Algorithm is tested on variety of [6] Sititsak. Rodtook, Yuttapong Rangsanseri,
documents, printed and handwritten manuscripts, "Adaptive Thresholding of Document images
documents with well-contrasted text as well as those based on Laplacian sign", Information
suffering from degradations like uneven Technology: Coding and Computing, 2001.
illumination, aging and background and foreground Proceedings, International Conference on 2-4
having similar intensity. Thus, it can be used in the April 2001, pp. 501 - 505.
framework of libraries willing to provide public [7] Ergina Kavallieratou, Efstathios Stamatatos,"
access to their historical document collections as Improving the quality of Degraded document
well as a preprocessing step in document image images", Proceedings of the Second
analysis systems. The advantage of our algorithm is International Conference on Document Image
simplicity, and low computational cost. As Analysis for Libraries (DIAL 06), 2006
concerns, the parameters 'C' of the proposed [8] Nikola Pavesic, Slobodan Ribaric, "Gray
algorithm, C greater than or equal to 1.2 provides Level Thresholding using the havrda and
the most appropriate solution. In addition, k is Charvat entropy", 10th Mediterranean
selected based on the document. Conference, MCleCon 2000, Vol, II, pp 631-
634
988
