900 IEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS FOR VIDEO TECHNOLOGY, VOL. 19, NO. 6, JUNE 2009
A Novel Illumination-Balance Technique for Improving
the Quality of Degraded Text–Photo Images
Jung-San Lee, Member, IEEE, Chin-Hao Chen, and Chin-Chen Chang, Fellow, IEEE
Abstract— Content digitization transforms a source into its
digital form through digital cameras or scanners. This trans-
formation often leads to the irregular distribution of image
illumination, which may distort the quality of digital images.
Engineers have provided many mechanisms to solve the degra-
dation problem; however, these works mainly focus on dealing
with full text images. In this letter, we propose a novel method to
balance the illumination distribution of the transformed image.
Experimental results show that the new method is capable of
improving the quality of degraded text images. Particularly,
unlike related works, the new method can effectively adjust the
illumination distribution of a text–photo image to enhance the
image quality.
Index Terms— Digitization, edge detection, illumination, object
mark.
I. INTRODUCTION
W ITH THE ACTIVE participation of the governmentand various academic organizations, digitization has
become critical for preserving cultural assets and protecting
valuable information. The aim of content digitization is to con-
vert information into its digital form through digital cameras
or scanners. After the conversion, however, the illumination of
scanned images is often unevenly distributed. This may result
from the senescence of the source or contrived negligence
[1]–[4]. As shown in Fig. 1(a) and (b), uneven distribution
degrades the quality of primary images. Engineers have pre-
sented many studies on the degradation problem. These studies
mainly relate to full text images. Materials in leading museums
are also displayed in the text–photo form [5], [6], [7]. The
motivation of this letter is to provide an illumination-balance
technique such that we can obtain Fig. 1(c) and (d) from
Fig. 1(a) and (b), respectively.
In 2005, Hsia and Tsai proposed an efficient light-balancing
technique (ELBT) for adjusting the illumination of text images
[8]. However, ELBT can only deal with text images; that
is, when the digital image contains both text and photos,
ELBT becomes invalid. Hsia et al. later presented a line-based
light balancing technique (LLBT) to increase the performance
of illumination adjustment [9]. LLBT can outperform ELBT
in processing text images. In the same study, Hsia et al.
also proposed a variant of the LLBT method to stabilize
Manuscript received March 7, 2008; revised August 15, 2008. First version
published March 16, 2009; current version published June 19, 2009. This
paper was recommended by Associate Editor T. Zhang.
The authors are with the Department of Information Engineering and
Computer Science, Feng Chia University, Seatwen, Taichung 40724, Taiwan
(e-mail: leejs@fcu.edu.tw).
Digital Object Identifier 10.1109/TCSVT.2009.2017314
(a) Scanned text-photo 
image 
(b) Scanned text 
image 
(c) Processed 
text-photo image 
(d) Processed text 
image 
Fig. 1. Balancing the illumination of scanned images.
the light of a photo image. However, the variant version
is ineffective in dealing with text images. Overall, these
mechanisms are unable to balance the illumination of text–
photo images.
In this paper, we employ the Sobel mechanism to design an
illumination-balance technique for text and text–photo images.
The new method is abbreviated as SIBT. SIBT first adopts
the Sobel mechanism to determine the text and photo objects
in a text–photo image. Then, it adjusts the illumination of
these objects according to the light distribution of the whole
background. Many edge detection mechanisms have been
proposed to detect the edge points of an image. Among them,
the Sobel technique is the most commonly used due to its
easy implementation [10]–[13]. Hence, we utilize the Sobel
kernel in the new method. Simulation results show that SIBT
is superior to ELBT and LLBT in balancing the illumination
of a degraded text image. In particular, only SIBT is capable of
tuning the light distribution of a text–photo image to enhance
quality. The rest of this paper is organized as follows. In
Section II, we provide a detailed description of SIBT, followed
by experimental results in Section III. We draw conclusions
in Section IV.
II. NOVEL ILLUMINATION-BALANCE TECHNIQUE
The proposed method consists of four phases: edge detec-
tion phase, object mark phase, light evaluation phase, and
illumination balance phase. The flowchart of the proposed
scheme is depicted in Fig. 2. In the edge detection phase,
the simulator S utilizes the Sobel technique and a predefined
threshold to generate an edge map EM from input image I .
The followings are four Sobel edge detectors adopted in
SIBT.
–1 0 1
–2 0 2
Detector (1). 0˚
–1 0 1
–2 –1 1
–1 0 1
Detector (2). 45˚
0 1 2
–1 –1 –1
0 0 0
Detector (3). 90˚
1 2 1
0 1 2
–1 0 1
Detector (4). 135˚
–2 –1 0
1051-8215/$25.00 © 2009 IEEE
LEE et al.: A NOVEL ILLUMINATION-BALANCE TECHNIQUE FOR IMPROVING THE QUALITY OF DEGRADED TEXT–PHOTO IMAGES 901
Average Edge
Image
Edge Map
thresholding
light balancing
light Distribution
Image
Marked Image
object marking
evaluation light
distribution
Output Image
Edge Image 1
Edge Image 2
Edge Image 3
edge detecting
Input image
I
EM
EIavg
LDI O
Edge Image 4
Fig. 2. Flowchart of the proposed scheme.
In the second phase, S marks all text and graphic objects
from I according to EM. S then evaluates the light distribution
of the whole background in the light evaluation phase. Sub-
sequently, S adaptively modifies the illumination of I in the
illumination balance phase. Notations used throughout SIBT
are listed below.
h/w Height/width of sampling image I .
Soj A set of coordinates belonging to object
j , for j ∈ N .
E I1, E I2, E I3, E I4 Edge images of I .
E Iavg Average edge image.
X (pi ) i th position of image X .
X (pvi ) i th pixel value of image X .
EM Binary edge map of I .
TH A pre-defined threshold.
LDI Light distribution image.
pf Location of the first pixel in a marked
section.
pl Location of the last pixel in a marked
section.
BL Balance level, used to determine the
illumination of the processed image.
A. Edge Detection Phase
The simulator S uses four Sobel edge detectors with
directions (0°, 45°, 90°, and 135°) to determine an average
edge map E Iavg, as shown in Fig. 3(b). Based on TH, S can
transform E Iavg to a binary edge map EM, as depicted in
Fig. 3(c).
Step 1: Apply four Sobel edge detectors with the four direc-
tions (0°, 45°, 90°, 135°) to I to generate four edge
images E I1, E I2, E I3, and E I4.
Step 2: Compute E Iavg by the following formula
E Iavg(pvi) = 1
4
4∑
n=1
h×w∑
i=1
EIn(pvi). (1)
Step 3: Set EM(pvi ) = 255, if E Iavg(pvi )  TH; otherwise,
EM(pvi ) = 0, for i = 0, 1, . . ., w × h.
B. Object Mark Phase
In order to observe the locations of text and photo in
sampling image I , the simulator S has to mark them with
squares to form the marked image, as shown in Fig. 3(d).
(c) Binary edge map (TH = 25)
(d) Marked image
(a) Sampling image (b) Average edge image
(f) balanced image (BL = 260)(e) Light distribution image
Fig. 3. Gradual outcome.
Step 1: Add I (pi ) into Soj if EM(pvi ) = 255; otherwise, go
to Step 5.
Step 2: Check four neighbors (up, down, left, right) of the
unchecked I (pi ) in Soj; if the neighbor is not in
Soj and its pixel value is 255, then add the neighbor
into Soj.
Step 3: Repeat Step 2 until nothing can be added into Soj.
Step 4: Find the highest, the lowest, the leftmost, and the
rightmost coordinates in Soj, and then mark a square
in I by these coordinates and set all pixels within
the marked square in EM to be zero.
Step 5: Set i = i + 1; repeat Steps 1 to 4 until i = w × h.
C. Light Evaluation Phase
Here, S has to generate a light distribution image LDI
[Fig. 3(e)] from the marked image [Fig. 3(d)]. In the evaluation
process, the simulator searches each pixel from the marked
image to find marked sections. Note that a marked section
means a vertical line with connected marked pixels.
Step 1: Vertically search the marked section in the marked
image column by column, if a marked section is
found, then record the first and last positions of this
line as pf and pl .
Step 2: Linearly interpolate pixels of the marked section as
LDI(pv f +k−1) = I (pv f −1)
+ [(I (pvl+1) − I (pv f −1))/m
] × k (2)
where k is the kth pixel and m is the total number
of pixels in marked section.
Step 3: Repeat Steps 1 and 2 until all marked sections have
been processed.
D. Illumination Balance Phase
According to LDI [Fig. 3(e)], the simulator S can balance
the illumination of Fig. 3(a) to form Fig. 3(f).
Step 1: If I (pi ) is a marked position, then S adjusts I (pvi )
as follows:
I (pv′i ) = (BL/LDI(pvi )) × I (pvi ). (3)
902 IEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS FOR VIDEO TECHNOLOGY, VOL. 19, NO. 6, JUNE 2009
Otherwise, S sets I (pv′i ) for the average value of the
r highest pixel values of unmarked areas in I .
Step 2: Set i = i + 1, and repeat Step 1 until all pixels have
been processed.
III. EXPERIMENTAL RESULTS
In this section, we conduct the essential experiments to
demonstrate the practicality of the new mechanism. Moreover,
we compare the performance of the novel method with that
of related works in Sections III-A and III-B, respectively. Test
images used in Section III-A are scanned images and those
used in Section III-B are artificial images. Here, all test images
are gray-levels with 512 × 512 pixels.
A. Experiments With Scanned Images
Test images can be classified into two types: text images and
text–photo images. A text image contains only letters, while
a text–photo image consists of both letters and pictures. We
utilized a digital scanner to capture all sampling images from
the hard copy.
Fig. 4(a) shows an original scanned text–photo image. It
is clear that the incomplete contact between the material and
the scanner has led to the uneven distribution of the image
illumination. Fig. 4(b) and (c) illustrate the results of ELBT
and LLBT, respectively [8], [9]. Although these two methods
can balance the illumination of image to improve the quality
of the text, the picture has been seriously distorted. Fig. 4(d)
provides the result of SIBT under the setting of TH = 30 and
BL = 260. Obviously, SIBT outperforms ELBT and LLBT in
this case. Note that TH is used to adjust the sensitivity of the
edge map, and BL is adopted to determine the illumination of
the processed image. For a text–photo image with a rough
picture, we can increase TH to obtain satisfactory image
quality. On the contrary, if the embedded picture is a smooth
one, we can lower TH to acquire a desirable result.
The setting of BL mainly depends on the illumination of
the degraded image. For an obscure image, we can raise
BL to enhance the illumination of the processed image. For
a light-degraded image, we can decrease BL to obtain an
adequate result. Overall, according to the experimental results,
we suggest that the setting of TH = 25 and BL = 260 is
suitable for balancing the illumination of degraded images.
Moreover, we employ the test images provided in [3] to
demonstrate the practicality of SIBT. Fig. 5 displays the results
of all methods, including Fan’s [3]. It is clear that SIBT is still
workable and superior to other works, while the photo region
is not in a rectangular shape.
Under the setting of TH = 25 and BL = 260, Fig. 6
illustrates the results of all methods using the test image
provided in [3]. The contrast of the original image is high and
the illumination variance is quite nonlinear. In improving the
quality of the marked area in Fig. 6(a), SIBT can outperform
others according to the results.
B. Experiments with Artificial Images
In Figs. 4–6, we utilize realistic test images and estimate the
performance of each method from human visual perception.
 TBLE )b( egami dennacs lanigirO )a(
TBLL )c( ( TBIS )d( TH= 25, BL= 260) 
Fig. 4. Scanned text–photo image.
To provide a more precise evaluation of these methods, we
utilize the peak-signal to noise rate (PSNR) to measure the
image qualities of the processed images. The formula of PSNR
is as follows:
PSNR = 10 log10(2552/MSE) dB. (4)
The mean square error (MSE) of an image with h×w pixels
is defined as
MSE = 1/(h × w)
h×w∑
i=1
(pi − p̃i )2 (5)
where pi is the original pixel value and p̃i is the processed
pixel value. To achieve this, we must manufacture scanned-like
images as the test images. Fig. 7 shows all artificial test im-
ages, including text–photo and text images. For each scanned-
like image, there exists a corresponding original image with
ideal illumination distribution. Scanned-like images are gen-
erated by adding artful shadows to the original images from
different directions. For example, Fig. 8(a) is the original im-
age, and Fig. 8(b) is image TP1 shown in Fig. 7. Hence, we can
calculate the PSNR of each processed image via (4) and (4).
We use Fig. 8 to demonstrate the advantage of SIBT over
related works. Since the pictures in Fig. 8(c) and (d) are
seriously distorted, the PSNR values of these two images are
no more than 13.36 and 13.44 dB, respectively. Under the
setting TH = 25 and BL = 260, SIBT can effectively improve
the PSNR value of the scanned-like image and outperforms
others from human visual perception.
For the text, we apply the same method to construct
scanned-like test images. Through this simulation, we obtain
the PSNR values of Fig. 9(b)–(e). It is apparent that ELBT,
LLBT, and SIBT all give satisfactory results in this situation.
However, SIBT is superior to others in improving the quality
of the scanned-like image under the setting of TH = 25 and
BL = 260.
Table I compares the related works and SIBT in terms of
the PSNR values of the text–photo images. It is obvious that
LEE et al.: A NOVEL ILLUMINATION-BALANCE TECHNIQUE FOR IMPROVING THE QUALITY OF DEGRADED TEXT–PHOTO IMAGES 903
]21[ naF )d( TBLL )c( TBLE )b(egami lanigirO )a( ( TBIS )e( TH= 25, BL= 260) 
Fig. 5. Text-photo image provided in [3].
 TBLL )c( TBLE )b( egami lanigirO )a(
3][ naF )d( ( TBIS )e( TH= 25, BL= 260) 
Fig. 6. Text image provided in [3].
Image TP1
Image T1
Image TP2 Image TP3 Image TP4 Image TP5 Image TP6
Image T2 Image T3 Image TP4 Image T5 Image T6
Fig. 7. Artificial test images.
SIBT outperforms all others no matter which test image is
used. It can improve the quality of scanned-like image by
92.04% on average.
Table II compares related works and SIBT with various text
images. As shown, ELBT, LLBT, and SIBT can achieve an
acceptable result that balances the illumination of the degraded
images. On average, SIBT still outperforms other works in
terms of improving the quality of text images.
Furthermore, we utilize the optical character recognition
(OCR) tool provided in Microsoft Office Document Imaging
(Version: 11.0.1897.0) to examine the performance of SIBT.
The OCR accuracy [14] is given by
(μ − π)/μ (6)
where μ is the number of characters in a text image and π
is the number of errors. After test images are refined, we
employ the OCR software to recognize the characters. The
OCR accuracy of related works and SIBT is shown in Table III.
Besides T4, SIBT outperforms others in other cases. This
implies that SIBT can help increase the OCR accuracy.
904 IEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS FOR VIDEO TECHNOLOGY, VOL. 19, NO. 6, JUNE 2009
(a) TP2 rotated by 45 degrees
(d) LLBT, PSNR = 13.44 dB (e) SIBT, PSNR = 22.73 dB 
(TH= 25, BL= 260) 
(f) SIBT, PSNR = 24.23 dB 
(TH= 25, BL= 260) 
(c) ELBT,PSNR  = 13.36 dB (b) TP1 withPSNR = 9.93 dB
Fig. 8. Image TP2.
(a) The original image (b) The scanned-like image, 
PSNR = 8.62 dB 
(c) ELBT, PSNR = 20.12 dB (e) SIBT,PSNR = 20.51 dB
(TH= 25,  BL= 260) 
(d) LLBT, PSNR= 20.16 dB  
Fig. 9. Image T1.
TABLE I
COMPARISON FOR TEXT–PHOTO IMAGES
Test images (dB)
Methods TP1 TP2 TP3 TP4 TP5 TP6 Average
Scanned-like 13.6 9.93 5.82 10.47 10.62 11.91 10.30
image
ELBT [8] 10.58 13.36 8.91 6.43 9.22 8.01 9.42
LLBT [9] 13.77 13.44 11.56 7.44 12.12 11.89 11.70
SIBT 20.05 22.73 16.71 18.58 21.72 18.88 19.78
TABLE II
COMPARISON FOR TEXT IMAGES
Test images (dB)
Methods T1 T2 T3 T4 T5 T6 Average
Scanned-like 8.62 8.85 8.62 11.62 10.59 8.50 9.47
image
ELBT [8] 20.12 21.38 17.60 23.35 20.24 23.97 21.11
LLBT [9] 20.16 21.67 18.18 23.36 20.76 23.89 21.34
SIBT 20.51 22.24 18.36 23.83 21.45 24.31 21.78
TABLE III
COMPARISON OF TEXT IMAGES WITH OCR ACCURACY
Test images (%)
Methods T1 T2 T3 T4 T5 T6 Average
ELBT [8] 97.52 97.03 97.25 98.25 97.70 98.19 97.65
LLBT [9] 97.99 96.90 98.50 98.25 97.70 98.43 97.96
SIBT 98.11 97.84 99.25 98.25 98.72 98.67 98.47
IV. CONCLUSION AND FUTURE WORKS
In this letter, we have proposed a novel technique to
balance the illumination distribution of images. According
to the experimental results, SIBT can effectively adjust the
uneven light distribution of the degraded image to improve
the quality. In particular, SIBT can deal with the text–photo
images whereas the well-known ELBT and LLBT cannot. In
the near future, we aim to improve SIBT such that it can
manipulate not only text–photo images but also full photo
images.
REFERENCES
[1] J. Liang, D. Doermann, and H. Li “Camera-based analysis of text and
documents: A survey,” Int. J. Document Anal. Recognition, vol. 7, 2005.
[2] J. Fan, X. Lin, and S. Simske, “A comprehensive image processing suite
for book re-mastering,” in Proc. 2005 8th Int. Conf. Document Anal.
Recognition, Seoul, South Korea, 2005, pp. 447–451.
[3] J. Fan, “Enhancement of camera-captured document images with
watershed segmentation,” in Proc. 2nd Int. Workshop Camera-Based
Document Anal. Recognition (CBDAR2007), Curitiba, Brazil, 2007,
pp. 87–93.
[4] S. Lu and C. L. Tan, “Thresholding of badly illuminated document
images through photometric correction,” in Proc. 2007 ACM Symp.
Document Eng., Manitoba, Canada, 2007, pp. 3–8.
[5] J. Y. Kim, L. S. Kim, and S. H. Hwang, “An advanced contrast en-
hancement using partially overlapped sub-block histogram equalization,”
IEEE Trans. Circuits Syst. Video Technol., vol. 11, no. 4, pp. 475–484,
Apr. 2004.
[6] Y. T. Kim, J. K. Paik, and B. S. Kang, “Contrast enhancement system
using spatially adaptive histogram equalization with temporal filter-
ing,” IEEE Trans. Consumer Electron., vol. 44, no. 1, pp. 82–86,
Feb. 1998.
LEE et al.: A NOVEL ILLUMINATION-BALANCE TECHNIQUE FOR IMPROVING THE QUALITY OF DEGRADED TEXT–PHOTO IMAGES 905
[7] E. Kavallieratou and E. Stamatatos, “Improving the quality of degraded
document images,” in Proc. 2nd Int. Conf. Document Image Anal.
Libraries, Lyon, France, Aug. 2006, pp. 340–349.
[8] S. C. Hsia and P. S. Tsai, “Efficient light balancing techniques for text
images in video presentation systems,” IEEE Trans. Circuits Syst. Video
Technol., vol. 15, no. 8, pp. 1026–1031, Aug. 2005.
[9] S. C. Hsia, M. H. Chen, and Y. M. Chen, “A cost-effective line-based
light-balancing technique using adaptive processing,” IEEE Trans. Image
Process., vol. 15, no. 9, pp. 2719–2729, Sep. 2006.
[10] J. R. Armstrong and G. F. Gray, VHDL Design: Representation and
Synthesis. 2nd ed. Englewood Cliffs, NJ, Prentice Hall, 2000.
[11] N. Kazakova, M. Margala, and N. G. Durdle, “Sobel edge detection
processor for a real-time volume rendering system,” in Proc. 2004 Int.
Symp. Circuits Syst., vol. 2. Canada, May 2004, pp. II-913–II-916.
[12] N. Kanopoulos, N. Yasanthavada, and R. Baker, “Design of an image
edge detection filter using the sobel operator,” IEEE J. Solid State
Circuits, vol. 23, no. 2, pp. 358–367, Apr. 1988.
[13] Y. D. Qu, C. S. Cui, S. B. Chen, and J. Q. Li, “A fast subpixel edge
detection method using sobel–zernike moments operator,” Image Vision
Comput., vol. 23, no. 1, pp. 11–17, 2005.
[14] S. V. Rice, F. R. Jenkins, and T. A. Nartker. (1996). The Fifth Annu.
Test OCR Accuracy, Information Science Research Institute TR-96-01.
Available: http://www.isri.unlv.edu/downloads/AT-1996.pdf
